
~~# üìö gRPC Document Microservice

> *"–£—á–∏—Ç—å—Å—è –Ω–∞ –ª—É—á—à–µ–º ‚Äî –∑–Ω–∞—á–∏—Ç —Ç–≤–æ—Ä–∏—Ç—å –ª—É—á—à–µ–µ."*

## üî• –ú–∏—Å—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —Å–æ—á–µ—Ç–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã —á–∏—Å—Ç–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, Domain-Driven Design (DDD), gRPC, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, MongoDB/PostgreSQL –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫.

---

## üß† –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* ‚úÖ **gRPC API** —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π CRUD –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
* ‚úÖ **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Hexagonal Architecture + DDD)** ‚Äî —Å–ª–æ–∏—Å—Ç–∞—è –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è.
* ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ MongoDB –∏ PostgreSQL** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.
* ‚úÖ **Redis Cache** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º.
* ‚úÖ **DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ Dishka** ‚Äî –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π.
* ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π (SQLAlchemy, Beanie)**.
* ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ä–µ—Ñ–ª–µ–∫—Å–∏—è gRPC-—Å–µ—Ä–≤–∏—Å–æ–≤**.
* ‚úÖ **Docker –∏ docker-compose** ‚Äî –≤—Å—ë –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/RitinaADM/grpc_microservice.git
cd grpc_microservice
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω—É–∂–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞:

* SQL (PostgreSQL): `.env.sql.example`
* NoSQL (MongoDB): `.env.nosql.example`

```bash
cp .env.sql.example .env
```

### 3. –ó–∞–ø—É—Å–∫

```bash
docker-compose up --build
```

gRPC —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞ `localhost:50051`.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```text
+-----------------------------+
|       gRPC Interface        |
|       (Protobuf, gRPC)      |
+-----------------------------+
              |
              ‚ñº
+-----------------------------+
|     Inbound Adapter Layer   |  ‚Üê DocumentServiceServicer
+-----------------------------+
              |
              ‚ñº
+-----------------------------+
|   Application / Services    |  ‚Üê –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
+-----------------------------+
              |
              ‚ñº
+-----------------------------+
|       Domain Models         |  ‚Üê DTOs, Entities, Ports
+-----------------------------+
              |
              ‚ñº
+-----------------------------+
| Outbound Adapters / Repos   |  ‚Üê Mongo/Postgres/Redis
+-----------------------------+
```

---


## üß∞ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è       | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏                                  |
| --------------- | ------------------------------------------- |
| –Ø–∑—ã–∫            | Python 3.12                                 |
| gRPC            | `grpcio`, `grpcio-tools`, `protobuf`        |
| DI              | `Dishka`                                    |
| ORM             | `SQLAlchemy` (Postgres), `Beanie` (MongoDB) |
| –ö—ç—à             | `Redis`, `redis-py`, `tenacity`             |
| –í–∞–ª–∏–¥–∞—Ü–∏—è       | `Pydantic v2`                               |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ     | `logging`, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ     |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è | `Docker`, `Docker Compose`                  |

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
grpc_microservice/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ application/      # –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ domain/           # –ú–æ–¥–µ–ª–∏, DTOs, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ infra/            # –ê–¥–∞–ø—Ç–µ—Ä—ã: gRPC, Mongo, Redis, SQL
‚îÇ   ‚îî‚îÄ‚îÄ main.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ proto/                # Protobuf —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ .env, .env.*.example
‚îî‚îÄ‚îÄ README.md
```

---

## üßë‚Äçüéì –ö–æ–º—É –ø–æ–¥–æ–π–¥—ë—Ç –ø—Ä–æ–µ–∫—Ç?

* –ù–∞—á–∏–Ω–∞—é—â–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º, —á—Ç–æ–±—ã –æ—Å–≤–æ–∏—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ gRPC.
* –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º –∏–Ω–∂–µ–Ω–µ—Ä–∞–º, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä —á–∏—Å—Ç–æ–≥–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ —Å –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ DDD.
* –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º —É—á—Ä–µ–∂–¥–µ–Ω–∏—è–º –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –∫—É—Ä—Å–æ–≤ –ø–æ backend-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

---

## üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–±—É—á–µ–Ω–∏–∏

* üìñ –†–∞–∑–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø–æ —Å–ª–æ—è–º.
* üîç –ü—Ä–∞–∫—Ç–∏–∫–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏.
* ‚öôÔ∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã gRPC).
* ‚òÅÔ∏è –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Kubernetes –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–æ–≤.

---

## üôå –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

* –ö–æ–º–∞–Ω–¥–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤, –≤–ª–æ–∂–∏–≤—à–∏—Ö –¥—É—à—É –≤ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç.
* –í—Å–µ–º, –∫—Ç–æ —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ –¥–µ–ª–∏—Ç—Å—è –∑–Ω–∞–Ω–∏—è–º–∏ —Å –±—É–¥—É—â–∏–º–∏ –ø–æ–∫–æ–ª–µ–Ω–∏—è–º–∏.

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –¥–∞–ª—å—à–µ –∑–Ω–∞–Ω–∏—è.

---

–ï—Å–ª–∏ —Ç—ã –ø—Ä–æ—á–∏—Ç–∞–ª —ç—Ç–æ—Ç README ‚Äî —Ç—ã —É–∂–µ –Ω–∞ —à–∞–≥ –±–ª–∏–∂–µ –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–º –±—É–¥—É—â–µ–≥–æ.

---
